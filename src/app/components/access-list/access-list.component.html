<app-header></app-header>
<div class="tittle">
    Lista de Acesso
    <div class="card">
        <p-toolbar>
            <ng-template pTemplate="left">
                <a><button pButton label="home" icon="pi pi-arrow-left" href="/Home" routerLink="/Home"></button></a>
            </ng-template>
        </p-toolbar>        

        <p-table #dt [value]="lists" [rows]="10" [paginator]="true" [globalFilterFields]="['name','country.name','representative.name','status']"
        [(selection)]="selectedList" [rowHover]="true" dataKey="id"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
            <ng-template pTemplate="caption">
                <div class="p-d-flex p-ai-center p-jc-between">
                    <h5 class="p-m-0">Gestão de Listas de Acesso</h5>
                    <span class="p-input-icon-left">
                        <!-- <i class="pi pi-search"></i> -->
                        <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Search..." />
                    </span>
                </div>
            </ng-template>

            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="Locatario">Locatário <p-sortIcon field="Locatario"></p-sortIcon></th>
                    <th pSortableColumn="Lista">Lista <p-sortIcon field="Lista"></p-sortIcon></th>
                    <th pSortableColumn="Tamanho da Lista">Tamanho da Lista <p-sortIcon field="Tamanho da Lista"></p-sortIcon></th>
                    <th pSortableColumn="Data de Acesso">Data de Acesso <p-sortIcon field="Data de Acesso"></p-sortIcon></th>
                    <th></th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-list>
                <tr>
                    <td>{{list.tenant}}</td>
                    <td>{{list.list}}</td>
                    <td>{{list.list.length}}</td>
                    <td>18/01/2021</td>
                    <td>
                        <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-success p-mr-2" (click)="confirm = true"></button>
                        <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="reprove = true"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    <p-dialog header="Confirm" [(visible)]="confirm">
        Confirmar Lista de Acesso?<br><br>
        <button pButton label="Confirmar" (click)="confirm = false"></button>
    </p-dialog>
    
    <p-dialog header="Reprove" [(visible)]="reprove">
        Reporvar Lista de Acesso?<br><br>
        <button pButton label="Confirmar" (click)="reprove = false"></button>
    </p-dialog>
</div>